### XSUAA OAuth Configuration
@tokenUrl = https://d78a3142trial.authentication.us10.hana.ondemand.com/oauth/token
@clientId = sb-cap-provider-d78a3142trial-dev!t520749
@clientSecret = bcdb394f-10f2-480b-b301-bec46ace3945$4dr3YIjOgLGou_vf2BySLIs5idxSfI7SkswKFk7gRMI=

### Service Configuration
@baseUrl = https://d78a3142trial-dev-cap-provider-srv.cfapps.us10-001.hana.ondemand.com/odata/v4/catalog
@contentType = application/json

### Step 1: Get OAuth Access Token
# @name getToken
POST {{tokenUrl}}
Content-Type: application/x-www-form-urlencoded

grant_type=client_credentials
&client_id={{clientId}}
&client_secret={{clientSecret}}

### Extract token for subsequent requests
@accessToken = {{getToken.response.body.access_token}}

###
### AUTHENTICATED REQUESTS BELOW
###

### Get all Products
GET {{baseUrl}}/Products
Authorization: Bearer {{accessToken}}

### Get a specific Product (Laptop Pro)
GET {{baseUrl}}/Products(550e8400-e29b-41d4-a716-446655440001)
Authorization: Bearer {{accessToken}}

### Get a specific Product (Wireless Mouse)
GET {{baseUrl}}/Products(550e8400-e29b-41d4-a716-446655440002)
Authorization: Bearer {{accessToken}}

### Create a new Product
POST {{baseUrl}}/Products
Authorization: Bearer {{accessToken}}
Content-Type: {{contentType}}

{
  "ID": "550e8400-e29b-41d4-a716-446655440099",
  "name": "Webcam HD",
  "description": "1080p HD webcam",
  "price": 79.99,
  "stock": 30,
  "category": "Electronics"
}

### Update a Product - PUT (full replacement)
PUT {{baseUrl}}/Products(550e8400-e29b-41d4-a716-446655440001)
Authorization: Bearer {{accessToken}}
Content-Type: {{contentType}}

{
  "name": "Laptop Pro Max",
  "description": "Ultra high-performance laptop",
  "price": 1599.99,
  "stock": 10,
  "category": "Electronics"
}

### Update a Product - PATCH (partial update - price only)
PATCH {{baseUrl}}/Products(550e8400-e29b-41d4-a716-446655440002)
Authorization: Bearer {{accessToken}}
Content-Type: {{contentType}}

{
  "price": 24.99
}

### Update a Product - PATCH (stock update)
PATCH {{baseUrl}}/Products(550e8400-e29b-41d4-a716-446655440004)
Authorization: Bearer {{accessToken}}
Content-Type: {{contentType}}

{
  "stock": 30
}

### Delete a Product
DELETE {{baseUrl}}/Products(550e8400-e29b-41d4-a716-446655440005)
Authorization: Bearer {{accessToken}}
